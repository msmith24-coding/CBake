$CC : str = "g++";
$OUT : str = "main";

$COMPILER_FLAGS : list<str> = [
    "-O2",
    "-Wall",
    "-Wextra",
    "-Wpedantic",
    "-Werror",
    "--std=c++20",
    "-Wnon-virtual-dtor",
    "-Wold-style-cast",
    "-Wunused-parameter",
    "-Wuninitialized",
    "-Winit-self"
    "-Wshadow",
    "-Wparentheses",
    "-Wdangling-else"
];

$OBJS : list<str> = [
    "main.cpp", 
    "./src/io.cpp"
];

action build:
    print("Running build action...");
    simple_compile($CC, $OBJS, $COMPILER_FLAGS, $OUT);
    print("Finished build action.");
end

action test:
    call("build");
    print(" ");
    unit_test($OUT, "test/test1.txt");
end